<%= content_for :js_css_include do %>
  <%= stylesheet_link_tag 'jquery-ui', 'autocomplete' %>
  <%= javascript_include_tag 'jquery.easing.1.3', 'jquery.galleryview-1.1', 'jquery.timers-1.1.2' %>

<% end %>

<div class="home_left_border fl">

</div>

<div class="home_middle fl">
  <div class="gallery_wrapper">
    <div class="galleryview" id="spots_gallery">

      <% @spots.each do |spot| %>
        <div class="panel ">
          <%= image_tag(spot.main_image_url(:medium), :class=> 'panel_image', :photo_id =>spot.id,:width => 505) %>
          <div class="panel-overlay">
            <h2>
              <%= spot.name %>
            </h2>
            <p>
              <span>
                <%= spot.short_description %>
              </span>
              <%= link_to 'Learn More..', spot %>
            </p>
          </div>
        </div>
      <% end %>
    </div>
    <div class="gallery_controll_images">
      <span class="nav-prev">
        <%= image_tag('/javascripts/themes/light/prev.png') %>
        Previous
      </span>
      <span class="nav-next">
        Next
        <%= image_tag('/javascripts/themes/light/next.png') %>
      </span>
    </div>
  </div>

  <h2>Hot Packages</h2>
  <% @packages.each do |package| %>
    <div class="package">
      <div class="fl package_logo">
        <%= image_tag package.main_image_url(:thumb) %>
      </div>

      <div class="fl package_desc">
        <div class="fl package_desc_info">
          <div class="fl title">
            <%= link_to truncate(package.title*7, :length => 60), package %>
          </div>
          <div class="fl description">
            <%= truncate(package.description*7, :length => 100) %>
          </div>
          <div class="fl rating">
            Like: 1000 <br/>
            Rating: 4
          </div>
        </div>
        <div class="fl price_n_button">
          <div class="fl price">
            Price: <span><%= package.price %></span> Tk/Person
          </div>
          <%= link_to 'Details', package, :class => 'detail_link' %>
          <%= link_to 'Book This', package, :class => 'book_link' %>
        </div>
      </div>

    </div>
  <% end %>

</div>
<!--END home middle-->


<div class="home_right fl">

</div>

<style type="text/css">

  .gallery_wrapper{
    float: left;
    background:url("/images/banner_bg.png") no-repeat ;
    width: 510px;
    height: 250px;
    padding: 10px;
  }

  .gallery_wrapper h2 {color: #FFFFFF}


  .panel-overlay p span { width: 388px;  }

  .panel-overlay p a {
    float: right;
    font-size: 16px;
  }
  .gallery_controll_images {
    margin-left: 348px;
    margin-top: 1px;
    color: #777;
    font-size: 16px
  }

  .gallery_controll_images span {
    cursor: pointer;
  }

  .gallery_controll_images span.nav-prev {
    margin-right: 15px;
  }

  .gallery_controll_images img {
    vertical-align:middle;
  }
  .package {
    background:url("/images/listing_bg.png") no-repeat ;
    width: 508px;
    height: 112px;
    padding: 10px;
    margin-bottom: 10px;
  }
  .package_logo {
    width: 130px;
    height: 102px;
    padding: 4px;
  }

  .package_logo img {
    width: 130px;
    height: 102px;
    border: 1px solid #cccccc;
  }
  .package_desc {
    width: 355px;
    margin-left: 8px;
    padding: 2px 0;
    color: #7F7F7F;
  }

  .package_desc .title { width: 100%}

  .package_desc .title a{color: #77B045; font-size: 18px; font-weight: bold}

  .package_desc .description { width: 270px; padding-top: 5px;}
  .package_desc .rating { width: 65px; border: 1px solid #CCC; padding: 5px;  margin-left: 8px;}
  .package_desc_info {height: 87px; }

  .package_desc .price_n_button {
    width: 100%;
  }

  .package_desc .price {width:200px; font-size: 13px;}

  .package_desc .price span {color: #FF7D01; font-size: 20px}

  .package_desc .price_n_button a {
    float: right;
    background: url("/images/button_bg.jpg") repeat-x ;
    margin-left: 2px;
    padding: 3px 14px;
  }

  .package_desc .book_link{

  }

  #spots_gallery {
    width: 504px !important;
    height: 229px !important;
    -moz-border-radius: 5px;
    border-radius: 5px;
    -webkit-border-radius: 5px;
  }
</style>

<script type="text/javascript">
  $.fn.loadAdsForSale = function(){
    $.ajax({
      url: '/welcome/ads_for_sale',
      type: 'get',
      dataType: 'script',
      success: function(results) {
       
      }
    });
  };
  $.fn.loadArticles= function(){
    $.ajax({
      url: '/welcome/articles',
      type: 'get',
      dataType: 'script'
    });
  };

  $.fn.loadOtherClassifieds = function(){
    $.ajax({
      url: '/welcome/other_classifieds',
      type: 'get',
      dataType: 'script',
      success: function(results) {
        //$('#other_classified_loading').hide();
      }
    });
  };

  $.fn.loadFeaturedAds = function(){
    $.ajax({
      url: '/welcome/featured_ads',
      type: 'get',
      dataType: 'script',
      success: function(results) {
      }
    });
  };

  $.fn.loadSpots = function(){
    $.ajax({
      url: '/welcome/spots',
      type: 'get',
      dataType: 'script',
      success: function(results) {
      }
    });
  };

  $.fn.locationAutocomplete = function(){
    $('#search_location').autocomplete({
      source: '/ads/location_autocomplete',
      //width: '200px',
      select: function(event, ui) {
        $(this).val(ui.item.value);
        $('#search_district_id_equals').val(ui.item.id);
        return false;
      }
    });
  }
 

  $(document).ready(function(){

    //$(this).loadAdsForSale();
    //$(this).loadOtherClassifieds();
    //$(this).loadArticles();
    //$(this).loadFeaturedAds();
    //$(this).loadSpots();
    //$(this).locationAutocomplete();

    $('#spots_gallery').galleryView({
      panel_width: 505,
      panel_height: 230,
      overlay_height: 60,
      overlay_opacity: 0.5,
      overlay_color: '#333',
      transition_speed: 1500,
      transition_interval: 5000,
      background_color: 'transparent',
      border: '1px solid #ccc',
      pause_on_hover: true

    });


  });


</script>
